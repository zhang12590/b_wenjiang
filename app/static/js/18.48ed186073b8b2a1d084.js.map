{"version":3,"sources":["webpack:///src/components/account/role.vue","webpack:///./src/components/account/role.vue?7a5c","webpack:///./src/components/account/role.vue"],"names":["startJurisdiction","data","children","id","is_function","label","pid","routing","errmsg","errno","role","name","searchInput","tableData","jurisdictionData","addFormVisible","formLabelWidth","form","permissions","fixFormVisible","form1","roleId","selectIds","watch","created","this","getRoleFn","getJurisdictionFn","methods","addBtnFn","addSureFn","addPermissionsId","$refs","tree","getCheckedNodes","forEach","val","i","push","temp","replace","permission_ids","user_id","sessionStorage","addFn","$message","type","message","handleEdit","index","row","self","setTimeout","tree1","setCheckedNodes","fixSureFn","fixFn","clearBtnFn","_this","length","$confirm","confirmButtonText","cancelButtonText","then","params","id_list","deleteSingleFn","catch","handleDelete","_this2","_this3","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","$api","unsplash","getRoles","sent","addSequence","t0","stop","_this4","_callee2","_context2","getJurisdictions","slice","_this5","_callee3","_context3","postAddRole","_this6","_callee4","_context4","postfixRole","_this7","_callee5","_context5","postClearRole","myAlert","handleSelectionChange","selection","selectAllFn","headerCellStyle","_ref","column","rowIndex","columnIndex","text-align","cellStyle","_ref2","txt","title","$alert","callback","action","account_role","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","icon","on","click","_v","offset","placeholder","clearable","model","value","$$v","expression","slot","plain","ref","staticStyle","width","header-cell-style","cell-style","select","select-all","scopedSlots","_u","key","fn","scope","margin-left","_s","min-width","size","$event","$index","visible","update:visible","label-width","autocomplete","$set","node-key","show-checkbox","default-expand-all","expand-on-click-node","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.48ed186073b8b2a1d084.js","sourcesContent":["<template>\r\n    <div class=\"role\">\r\n        <el-row :gutter=\"20\" class=\"functionalArea\">\r\n            <el-col :span=\"6\">\r\n                <el-button-group>\r\n                    <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addBtnFn\"></el-button>\r\n                    <el-button type=\"primary\" icon=\"el-icon-share\"></el-button>\r\n                    <el-button type=\"primary\" icon=\"el-icon-delete\" @click=\"clearBtnFn\"></el-button>\r\n                </el-button-group>\r\n            </el-col>\r\n            <el-col :span=\"6\" :offset=\"12\">\r\n                <el-input placeholder=\"请输入内容\" v-model=\"searchInput\" clearable>\r\n                    <template slot=\"append\">\r\n                        <el-button type=\"success\" plain>搜索</el-button>\r\n                    </template>\r\n                </el-input>\r\n            </el-col>\r\n        </el-row>\r\n\r\n        <el-table\r\n                ref=\"multipleTable\"\r\n                :data=\"tableData\"\r\n                style=\"width: 100%\"\r\n                :header-cell-style=\"headerCellStyle\"\r\n                :cell-style=\"cellStyle\"\r\n                @select=\"handleSelectionChange\"\r\n                @select-all=\"selectAllFn\"\r\n        >\r\n            <el-table-column\r\n                    type=\"selection\"\r\n                    width=\"55\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label=\"序号\"\r\n                    width=\"60\">\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.index }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label=\"角色\"\r\n                    width=\"240\">\r\n                <template slot-scope=\"scope\">\r\n                    <span style=\"margin-left: 10px\">{{ scope.row.name }}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label=\"操作\"\r\n                    min-width=\"240\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button\r\n                            size=\"mini\"\r\n                            @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n                    <el-button\r\n                            size=\"mini\"\r\n                            type=\"danger\"\r\n                            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-dialog title=\"添加角色\" :visible.sync=\"addFormVisible\" width=\"800px\">\r\n            <el-form :model=\"form\">\r\n                <el-row :gutter=\"20\">\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"角色\" :label-width=\"formLabelWidth\">\r\n                            <el-input v-model=\"form.name\" placeholder=\"请输入角色\" autocomplete=\"off\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"权限树\" :label-width=\"formLabelWidth\">\r\n                            <el-tree\r\n                                    :data=\"jurisdictionData\"\r\n                                    node-key=\"id\"\r\n                                    show-checkbox\r\n                                    ref=\"tree\"\r\n                                    :default-expand-all=\"false\"\r\n                                    :expand-on-click-node=\"false\"\r\n                            >\r\n                            </el-tree>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <!--<el-col :span=\"12\">-->\r\n                        <!--<el-form-item label=\"流程\" :label-width=\"formLabelWidth\">-->\r\n                            <!--<el-input v-model=\"form.process\" placeholder=\"格式：1-2-3\" autocomplete=\"off\"></el-input>-->\r\n                        <!--</el-form-item>-->\r\n                    <!--</el-col>-->\r\n                    <!--<el-col :span=\"12\">-->\r\n                        <!--<el-form-item label=\"时限\" :label-width=\"formLabelWidth\">-->\r\n                            <!--<el-input v-model=\"form.timeout\" placeholder=\"请输入时限(天)\" autocomplete=\"off\"></el-input>-->\r\n                        <!--</el-form-item>-->\r\n                    <!--</el-col>-->\r\n                    <!--<el-col :span=\"12\">-->\r\n                        <!--<el-form-item label=\"类型\" :label-width=\"formLabelWidth\">-->\r\n                            <!--<el-select v-model=\"form.cate\" placeholder=\"请选择类型\" style=\"width:100%;\">-->\r\n                                <!--<el-option v-for=\"(item, index) in styleList\" :key=\"index\" :label=\"item.label\" :value=\"item.val\"></el-option>-->\r\n                            <!--</el-select>-->\r\n                        <!--</el-form-item>-->\r\n                    <!--</el-col>-->\r\n                    <!--<el-col :span=\"12\">-->\r\n                        <!--<el-form-item label=\"常办\" :label-width=\"formLabelWidth\">-->\r\n                            <!--<el-select v-model=\"form.frequent\" placeholder=\"请选择服务区\" style=\"width:100%;\">-->\r\n                                <!--<el-option v-for=\"(item, index) in frequentList\" :key=\"index\" :label=\"item.label\" :value=\"item.val\"></el-option>-->\r\n                            <!--</el-select>-->\r\n                        <!--</el-form-item>-->\r\n                    <!--</el-col>-->\r\n                </el-row>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addSureFn\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <el-dialog title=\"编辑角色\" :visible.sync=\"fixFormVisible\" width=\"800px\">\r\n            <el-form :model=\"form1\">\r\n                <el-row :gutter=\"20\">\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"角色\" :label-width=\"formLabelWidth\">\r\n                            <el-input v-model=\"form1.name\" placeholder=\"请输入角色\" autocomplete=\"off\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item label=\"权限树\" :label-width=\"formLabelWidth\">\r\n                            <el-tree\r\n                                    :data=\"jurisdictionData\"\r\n                                    node-key=\"id\"\r\n                                    show-checkbox\r\n                                    ref=\"tree1\"\r\n                                    :default-expand-all=\"false\"\r\n                                    :expand-on-click-node=\"false\"\r\n                            >\r\n                            </el-tree>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"fixFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"fixSureFn\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    let startJurisdiction={\r\n        \"data\": [\r\n            {\r\n                \"children\": [],\r\n                \"id\": 'root',\r\n                \"is_function\": \"N\",\r\n                \"label\": \"root\",\r\n                \"pid\": null,\r\n                \"routing\": \"\"\r\n            }\r\n        ],\r\n        \"errmsg\": \"成功\",\r\n        \"errno\": \"0\"\r\n    };\r\n    export default {\r\n        name: 'ATheme',\r\n        data () {\r\n            return {\r\n                searchInput: '',\r\n                tableData: [],\r\n                jurisdictionData: [],\r\n\r\n                addFormVisible: false,\r\n                formLabelWidth: '120px',\r\n                form: {\r\n                    name: '',\r\n                    permissions: []\r\n                },\r\n                fixFormVisible: false,\r\n                form1: {\r\n                    name: '',\r\n                    roleId: '',\r\n                    permissions: []\r\n                },\r\n\r\n                selectIds: []\r\n            }\r\n        },\r\n        watch:{\r\n        },\r\n        created:function () {\r\n            this.getRoleFn()\r\n            this.getJurisdictionFn();\r\n        },\r\n        methods:{\r\n            addBtnFn(){\r\n                this.addFormVisible=true;\r\n            },\r\n            addSureFn() {\r\n                let add=this.$refs.tree.getCheckedNodes();\r\n                let addPermissionsId=[]\r\n                add.forEach(function(val, i){\r\n                    if(val.id!='root'){\r\n                        addPermissionsId.push(val.id)\r\n                    }\r\n                })\r\n                let temp={\r\n                    name: this.form.name.replace(/(^\\s*)|(\\s*$)/g,\"\"),\r\n                    permission_ids: addPermissionsId,\r\n                    user_id: sessionStorage.user_id\r\n                };\r\n                if(temp.name!=''){\r\n                    this.addFn(temp)\r\n                }else{\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        message: '请补全信息!'\r\n                    });\r\n                }\r\n            },\r\n            handleEdit(index, row) {\r\n                console.log(index, row);\r\n                this.fixFormVisible=true\r\n                this.form1.name=row.name;\r\n                this.form1.roleId=row.id\r\n\r\n                let self=this;\r\n                setTimeout(function(){\r\n                    self.$refs.tree1.setCheckedNodes(row.permissions);\r\n                },200)\r\n            },\r\n            fixSureFn() {\r\n                let add=this.$refs.tree1.getCheckedNodes();\r\n                let addPermissionsId=[]\r\n                add.forEach(function(val, i){\r\n                    if(val.id!='root'){\r\n                        addPermissionsId.push(val.id)\r\n                    }\r\n                })\r\n                let temp={\r\n                    id: this.form1.roleId,\r\n                    name: this.form1.name.replace(/(^\\s*)|(\\s*$)/g,\"\"),\r\n                    permission_ids: addPermissionsId,\r\n                    user_id: sessionStorage.user_id\r\n                };\r\n                if(temp.name!=''){\r\n                    this.fixFn(temp)\r\n                }else{\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        message: '请补全信息!'\r\n                    });\r\n                }\r\n            },\r\n            clearBtnFn() {\r\n                if(this.selectIds.length){\r\n                    this.$confirm('确定删除所选角色', '提示', {\r\n                        confirmButtonText: '确定',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                        let params={\r\n                            id_list: this.selectIds,\r\n                            user_id: sessionStorage.user_id\r\n                        };\r\n                        this.deleteSingleFn(params)\r\n                    }).catch(() => {\r\n                        this.$message({\r\n                            type: 'info',\r\n                            message: '已取消删除'\r\n                        });\r\n                    });\r\n\r\n                }else{\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        message: '未选择角色!'\r\n                    });\r\n                }\r\n            },\r\n            handleDelete(index, row) {\r\n                console.log(row);\r\n                this.$confirm('确定删除角色：'+row.name, '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    let params={\r\n                        id_list: [row.id],\r\n                        user_id: sessionStorage.user_id\r\n                    };\r\n                    this.deleteSingleFn(params)\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消删除'\r\n                    });\r\n                });\r\n            },\r\n            async getRoleFn () {\r\n                let params={};\r\n                try {\r\n                    let res = await this.$api.unsplash.getRoles(params)\r\n                    if(res.errno=='0'){\r\n                        this.tableData=this.addSequence(res.data);\r\n                        console.log(res.data)\r\n                    }else{\r\n                        this.$message({\r\n                            type: 'warning',\r\n                            message: '获取角色失败'\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            },\r\n            async getJurisdictionFn () {\r\n                let params={};\r\n                try {\r\n                    let res = await this.$api.unsplash.getJurisdictions(params)\r\n                    if(res.errno=='0'){\r\n                        startJurisdiction.data[0].children=res.data.slice()\r\n                        this.jurisdictionData=startJurisdiction.data\r\n                    }else{\r\n                        this.$message({\r\n                            type: 'warning',\r\n                            message: '获取权限失败'\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            },\r\n            async addFn (params) {\r\n                try {\r\n                    let res = await this.$api.unsplash.postAddRole(params)\r\n                    console.log(res)\r\n                    if(res.errno=='0'){\r\n                        this.addFormVisible=false\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '增加角色成功'\r\n                        });\r\n                        this.getRoleFn()\r\n                    }else{\r\n                        this.$message({\r\n                            type: 'warning',\r\n                            message: '增加角色失败'\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            },\r\n            async fixFn (params) {\r\n                try {\r\n                    let res = await this.$api.unsplash.postfixRole(params)\r\n                    if(res.errno=='0'){\r\n                        this.fixFormVisible = false\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '修改角色成功'\r\n                        });\r\n                        this.getRoleFn()\r\n                    }else{\r\n                        this.$message({\r\n                            type: 'warning',\r\n                            message: '修改角色失败'\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            },\r\n            async deleteSingleFn (params) {\r\n                try {\r\n                    let res = await this.$api.unsplash.postClearRole(params)\r\n                    if(res.errno=='0'){\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: '删除成功!'\r\n                        });\r\n                        this.selectIds= []\r\n                        this.getRoleFn()\r\n                    }else{\r\n                        this.myAlert('服务器错误','警告',this)\r\n                    }\r\n                } catch (e) {\r\n                    console.log(e)\r\n                }\r\n            },\r\n            handleSelectionChange(selection, row) { // 单击\r\n                console.log(selection);\r\n                this.selectIds =[];\r\n                for(let i=0;i<selection.length;i++){\r\n                    this.selectIds.push(selection[i].id);\r\n                }\r\n            },\r\n            selectAllFn(selection){ // 全选\r\n                console.log(selection);\r\n                this.selectIds =[];\r\n                for(let i=0;i<selection.length;i++){\r\n                    this.selectIds.push(selection[i].id);\r\n                }\r\n            },\r\n            headerCellStyle({ row, column, rowIndex, columnIndex }){\r\n                if(rowIndex>-1){\r\n                    return {\r\n                        'text-align': 'center',\r\n                    };\r\n                }\r\n            },\r\n            cellStyle ({ row, column, rowIndex, columnIndex }) {\r\n                if (columnIndex >= 0) {\r\n                    return {\r\n                        'text-align': 'center',\r\n                    };\r\n                }\r\n            },\r\n            myAlert(txt,title,self){\r\n                self.$alert(txt, title, {\r\n                    confirmButtonText: '确定',\r\n                    callback: action => {\r\n                    }\r\n                });\r\n            },\r\n            addSequence(temp){\r\n                for(let i=0;i<temp.length;i++){\r\n                    temp[i].index=i+1;\r\n                }\r\n                return temp;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\">\r\n    .role{\r\n        .functionalArea{\r\n            height: 80px;\r\n        }\r\n        .headerCellStyle{\r\n            text-align: center;\r\n        }\r\n        .el-dialog__body {\r\n            padding: 30px 60px 30px 20px;\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/account/role.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"role\"},[_c('el-row',{staticClass:\"functionalArea\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addBtnFn}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-share\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.clearBtnFn}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6,\"offset\":12}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}},[_c('template',{slot:\"append\"},[_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"}},[_vm._v(\"搜索\")])],1)],2)],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"header-cell-style\":_vm.headerCellStyle,\"cell-style\":_vm.cellStyle},on:{\"select\":_vm.handleSelectionChange,\"select-all\":_vm.selectAllFn}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"序号\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.index))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"角色\",\"width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.addFormVisible,\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.addFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"角色\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色\",\"autocomplete\":\"off\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"权限树\",\"label-width\":_vm.formLabelWidth}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.jurisdictionData,\"node-key\":\"id\",\"show-checkbox\":\"\",\"default-expand-all\":false,\"expand-on-click-node\":false}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addSureFn}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑角色\",\"visible\":_vm.fixFormVisible,\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.fixFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form1}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"角色\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色\",\"autocomplete\":\"off\"},model:{value:(_vm.form1.name),callback:function ($$v) {_vm.$set(_vm.form1, \"name\", $$v)},expression:\"form1.name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"权限树\",\"label-width\":_vm.formLabelWidth}},[_c('el-tree',{ref:\"tree1\",attrs:{\"data\":_vm.jurisdictionData,\"node-key\":\"id\",\"show-checkbox\":\"\",\"default-expand-all\":false,\"expand-on-click-node\":false}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.fixFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.fixSureFn}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3806a703\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/account/role.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3806a703\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3806a703\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/account/role.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}